!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).Notifications={})}(this,(function(t){"use strict";function n(){}const e=t=>t;function o(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(o)}function c(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(t,e,o){t.$$.on_destroy.push(function(t,...e){if(null==t)return n;const o=t.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(e,o))}function u(t,n,e,o){if(t){const i=f(t,n,e,o);return t[0](i)}}function f(t,n,e,o){return t[1]&&o?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](o(n))):e.ctx}function a(t,n,e,o){if(t[2]&&o){const i=t[2](o(e));if("object"==typeof n.dirty){const t=[],e=Math.max(n.dirty.length,i.length);for(let o=0;o<e;o+=1)t[o]=n.dirty[o]|i[o];return t}return n.dirty|i}return n.dirty}function d(t){return null==t?"":t}const p="undefined"!=typeof window;let h=p?()=>window.performance.now():()=>Date.now(),m=p?t=>requestAnimationFrame(t):n;const $=new Set;function g(t){$.forEach((n=>{n.c(t)||($.delete(n),n.f())})),0!==$.size&&m(g)}function y(t){let n;return 0===$.size&&m(g),{promise:new Promise((e=>{$.add(n={c:t,f:e})})),abort(){$.delete(n)}}}function b(t,n){t.appendChild(n)}function v(t,n,e){t.insertBefore(n,e||null)}function w(t){t.parentNode.removeChild(t)}function x(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function S(){return _(" ")}function k(){return _("")}function N(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}let E,A,R=0,C={};function j(t,n,e,o,i,r,c,s=0){const l=16.666/o;let u="{\n";for(let t=0;t<=1;t+=l){const o=n+(e-n)*r(t);u+=100*t+`%{${c(o,1-o)}}\n`}const f=u+`100% {${c(e,1-e)}}\n}`,a=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(f)}_${s}`;if(!C[a]){if(!E){const t=x("style");document.head.appendChild(t),E=t.sheet}C[a]=!0,E.insertRule(`@keyframes ${a} ${f}`,E.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${a} ${o}ms linear ${i}ms 1 both`,R+=1,a}function M(t,n){t.style.animation=(t.style.animation||"").split(", ").filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")).join(", "),n&&!--R&&m((()=>{if(R)return;let t=E.cssRules.length;for(;t--;)E.deleteRule(t);C={}}))}function O(t){A=t}function T(){if(!A)throw new Error("Function called outside component initialization");return A}const z=[],P=[],q=[],B=[],D=Promise.resolve();let F=!1;function L(t){q.push(t)}const G=new Set;function H(){do{for(;z.length;){const t=z.shift();O(t),I(t.$$)}for(;P.length;)P.pop()();for(let t=0;t<q.length;t+=1){const n=q[t];G.has(n)||(G.add(n),n())}q.length=0}while(z.length);for(;B.length;)B.pop()();F=!1,G.clear()}function I(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(L)}}let J;function K(){return J||(J=Promise.resolve(),J.then((()=>{J=null}))),J}function Q(t,n,e){t.dispatchEvent(function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(`${n?"intro":"outro"}${e}`))}const U=new Set;let V;function W(){V={r:0,c:[],p:V}}function X(){V.r||r(V.c),V=V.p}function Y(t,n){t&&t.i&&(U.delete(t),t.i(n))}function Z(t,n,e,o){if(t&&t.o){if(U.has(t))return;U.add(t),V.c.push((()=>{U.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}const tt={duration:0};function nt(t,n){Z(t,1,1,(()=>{n.delete(t.key)}))}function et(t){t&&t.c()}function ot(t,n,e){const{fragment:i,on_mount:s,on_destroy:l,after_update:u}=t.$$;i&&i.m(n,e),L((()=>{const n=s.map(o).filter(c);l?l.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(L)}function it(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function rt(t,n){-1===t.$$.dirty[0]&&(z.push(t),F||(F=!0,D.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function ct(t,e,o,c,s,l,u=[-1]){const f=A;O(t);const a=e.props||{},d=t.$$={fragment:null,ctx:null,props:l,update:n,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:i(),dirty:u};let p=!1;d.ctx=o?o(t,a,((n,e,...o)=>{const i=o.length?o[0]:e;return d.ctx&&s(d.ctx[n],d.ctx[n]=i)&&(d.bound[n]&&d.bound[n](i),p&&rt(t,n)),e})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!c&&c(d.ctx),e.target&&(e.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):d.fragment&&d.fragment.c(),e.intro&&Y(t.$$.fragment),ot(t,e.target,e.anchor),H()),O(f)}class st{$destroy(){it(this,1),this.$destroy=n}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const lt={subscribe:null,addNotification:null,removeNotification:null,clearNotifications:null},ut=()=>{return t=lt,T().$$.context.get(t);var t};function ft(t){let n,e;var o=t[0];function i(t){return{props:{notification:t[1],withoutStyles:t[2],onRemove:t[3]}}}if(o)var r=new o(i(t));return{c(){r&&et(r.$$.fragment),n=k()},m(t,o){r&&ot(r,t,o),v(t,n,o),e=!0},p(t,[e]){const c={};if(2&e&&(c.notification=t[1]),4&e&&(c.withoutStyles=t[2]),o!==(o=t[0])){if(r){W();const t=r;Z(t.$$.fragment,1,0,(()=>{it(t,1)})),X()}o?(et((r=new o(i(t))).$$.fragment),Y(r.$$.fragment,1),ot(r,n.parentNode,n)):r=null}else o&&r.$set(c)},i(t){e||(r&&Y(r.$$.fragment,t),e=!0)},o(t){r&&Z(r.$$.fragment,t),e=!1},d(t){t&&w(n),r&&it(r,t)}}}function at(t,n,e){let{item:o}=n,{notification:i={}}=n,{withoutStyles:r=!1}=n;const{removeNotification:c}=ut(),{id:s,removeAfter:l}=i,u=()=>c(s);let f=null;var a;return l&&(f=setTimeout(u,l)),a=()=>{l&&f&&clearTimeout(f)},T().$$.on_destroy.push(a),t.$set=t=>{"item"in t&&e(0,o=t.item),"notification"in t&&e(1,i=t.notification),"withoutStyles"in t&&e(2,r=t.withoutStyles)},[o,i,r,u]}class dt extends st{constructor(t){super(),ct(this,t,at,ft,s,{item:0,notification:1,withoutStyles:2})}}function pt(t,{delay:n=0,duration:o=400,easing:i=e}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:i,css:t=>"opacity: "+t*r}}function ht(t){let o,i,s,l,p,m,$,g,k,E;const A=t[7].default,R=u(A,t,t[6],null);return{c(){o=x("div"),i=x("div"),R||(s=_(t[1])),R&&R.c(),l=S(),p=x("button"),m=_("Ã—"),N(i,"class",d(t[2]("content"))+" svelte-1d9upb9"),N(p,"class",d(t[2]("button"))+" svelte-1d9upb9"),N(p,"aria-label","delete notification"),N(o,"class",d(t[2]())+" svelte-1d9upb9"),N(o,"role","status"),N(o,"aria-live","polite")},m(n,e){var r,c,u,f;v(n,o,e),b(o,i),R||b(i,s),R&&R.m(i,null),b(o,l),b(o,p),b(p,m),k=!0,r=p,c="click",u=t[0],r.addEventListener(c,u,f),E=()=>r.removeEventListener(c,u,f)},p(t,[n]){R&&R.p&&64&n&&R.p(f(A,t,t[6],null),a(A,t[6],n,null))},i(t){k||(Y(R,t),L((()=>{g&&g.end(1),$||($=function(t,o,i){let r,s,l=o(t,i),u=!1,f=0;function a(){r&&M(t,r)}function d(){const{delay:o=0,duration:i=300,easing:c=e,tick:d=n,css:p}=l||tt;p&&(r=j(t,0,1,i,o,c,p,f++)),d(0,1);const m=h()+o,$=m+i;s&&s.abort(),u=!0,L((()=>Q(t,!0,"start"))),s=y((n=>{if(u){if(n>=$)return d(1,0),Q(t,!0,"end"),a(),u=!1;if(n>=m){const t=c((n-m)/i);d(t,1-t)}}return u}))}let p=!1;return{start(){p||(M(t),c(l)?(l=l(),K().then(d)):d())},invalidate(){p=!1},end(){u&&(a(),u=!1)}}}(o,pt,{})),$.start()})),k=!0)},o(t){Z(R,t),$&&$.invalidate(),g=function(t,o,i){let s,l=o(t,i),u=!0;const f=V;function a(){const{delay:o=0,duration:i=300,easing:c=e,tick:a=n,css:d}=l||tt;d&&(s=j(t,1,0,i,o,c,d));const p=h()+o,m=p+i;L((()=>Q(t,!1,"start"))),y((n=>{if(u){if(n>=m)return a(0,1),Q(t,!1,"end"),--f.r||r(f.c),!1;if(n>=p){const t=c((n-p)/i);a(1-t,t)}}return u}))}return f.r+=1,c(l)?K().then((()=>{l=l(),a()})):a(),{end(n){n&&l.tick&&l.tick(1,0),u&&(s&&M(t,s),u=!1)}}}(o,pt,{}),k=!1},d(t){t&&w(o),R&&R.d(t),t&&g&&g.end(),E()}}}function mt(t,n,e){let{notification:o={}}=n,{withoutStyles:i=!1}=n,{onRemove:r=null}=n;const{text:c,type:s}=o;let{$$slots:l={},$$scope:u}=n;return t.$set=t=>{"notification"in t&&e(3,o=t.notification),"withoutStyles"in t&&e(4,i=t.withoutStyles),"onRemove"in t&&e(0,r=t.onRemove),"$$scope"in t&&e(6,u=t.$$scope)},[r,c,t=>{const n=t?`-${t}`:"";return`notification${n}${i?"":` default-notification-style${n}`}${s&&!t?` default-notification-${s}`:""}`},o,i,s,u,l]}class $t extends st{constructor(t){super(),ct(this,t,mt,ht,s,{notification:3,withoutStyles:4,onRemove:0})}}const gt=[];const yt=["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"],bt=(t,n)=>{if(!(t=>!(!t||!t.text||"string"!=typeof t.text||!yt.includes(t.position)))(t))throw new Error("Notification object is not valid");const{id:e=(new Date).getTime(),removeAfter:o=+t.removeAfter,...i}=t;n((t=>[...t,{id:e,removeAfter:o,...i}]))};var vt=(()=>{const{subscribe:t,set:e,update:o}=function(t,e=n){let o;const i=[];function r(n){if(s(t,n)&&(t=n,o)){const n=!gt.length;for(let n=0;n<i.length;n+=1){const e=i[n];e[1](),gt.push(e,t)}if(n){for(let t=0;t<gt.length;t+=2)gt[t][0](gt[t+1]);gt.length=0}}}return{set:r,update:function(n){r(n(t))},subscribe:function(c,s=n){const l=[c,s];return i.push(l),1===i.length&&(o=e(r)||n),c(t),()=>{const t=i.indexOf(l);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}([]);return{subscribe:t,addNotification:t=>bt(t,o),removeNotification:t=>((t,n)=>n((n=>n.filter((n=>n.id!==t)))))(t,o),clearNotifications:()=>(t=>t([]))(e)}})();function wt(t,n,e){const o=t.slice();return o[9]=n[e],o}function xt(t,n,e){const o=t.slice();return o[6]=n[e],o}function _t(t){let n;const e=new dt({props:{notification:t[9],withoutStyles:t[1],item:t[0]||$t}});return{c(){et(e.$$.fragment)},m(t,o){ot(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.notification=t[9]),2&n&&(o.withoutStyles=t[1]),1&n&&(o.item=t[0]||$t),e.$set(o)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function St(t,n){let e,o,i,r=n[9].position===n[6]&&_t(n);return{key:t,first:null,c(){e=k(),r&&r.c(),o=k(),this.first=e},m(t,n){v(t,e,n),r&&r.m(t,n),v(t,o,n),i=!0},p(t,n){t[9].position===t[6]?r?(r.p(t,n),Y(r,1)):(r=_t(t),r.c(),Y(r,1),r.m(o.parentNode,o)):r&&(W(),Z(r,1,1,(()=>{r=null})),X())},i(t){i||(Y(r),i=!0)},o(t){Z(r),i=!1},d(t){t&&w(e),r&&r.d(t),t&&w(o)}}}function kt(t){let n,e,o,i=[],r=new Map,c=t[2];const s=t=>t[9].id;for(let n=0;n<c.length;n+=1){let e=wt(t,c,n),o=s(e);r.set(o,i[n]=St(o,e))}return{c(){n=x("div");for(let t=0;t<i.length;t+=1)i[t].c();e=S(),N(n,"class",d(t[3](t[6]))+" svelte-t5zsb9")},m(t,r){v(t,n,r);for(let t=0;t<i.length;t+=1)i[t].m(n,null);b(n,e),o=!0},p(t,o){const c=t[2];W(),i=function(t,n,e,o,i,r,c,s,l,u,f,a){let d=t.length,p=r.length,h=d;const m={};for(;h--;)m[t[h].key]=h;const $=[],g=new Map,y=new Map;for(h=p;h--;){const t=a(i,r,h),s=e(t);let l=c.get(s);l?o&&l.p(t,n):(l=u(s,t),l.c()),g.set(s,$[h]=l),s in m&&y.set(s,Math.abs(h-m[s]))}const b=new Set,v=new Set;function w(t){Y(t,1),t.m(s,f),c.set(t.key,t),f=t.first,p--}for(;d&&p;){const n=$[p-1],e=t[d-1],o=n.key,i=e.key;n===e?(f=n.first,d--,p--):g.has(i)?!c.has(o)||b.has(o)?w(n):v.has(i)?d--:y.get(o)>y.get(i)?(v.add(o),w(n)):(b.add(i),d--):(l(e,c),d--)}for(;d--;){const n=t[d];g.has(n.key)||l(n,c)}for(;p;)w($[p-1]);return $}(i,o,s,1,t,c,r,n,nt,St,e,wt),X()},i(t){if(!o){for(let t=0;t<c.length;t+=1)Y(i[t]);o=!0}},o(t){for(let t=0;t<i.length;t+=1)Z(i[t]);o=!1},d(t){t&&w(n);for(let t=0;t<i.length;t+=1)i[t].d()}}}function Nt(t){let n,e,o;const i=t[5].default,r=u(i,t,t[4],null);let c=yt,s=[];for(let n=0;n<c.length;n+=1)s[n]=kt(xt(t,c,n));const l=t=>Z(s[t],1,1,(()=>{s[t]=null}));return{c(){r&&r.c(),n=S(),e=x("div");for(let t=0;t<s.length;t+=1)s[t].c();N(e,"class","notifications")},m(t,i){r&&r.m(t,i),v(t,n,i),v(t,e,i);for(let t=0;t<s.length;t+=1)s[t].m(e,null);o=!0},p(t,[n]){if(r&&r.p&&16&n&&r.p(f(i,t,t[4],null),a(i,t[4],n,null)),15&n){let o;for(c=yt,o=0;o<c.length;o+=1){const i=xt(t,c,o);s[o]?(s[o].p(i,n),Y(s[o],1)):(s[o]=kt(i),s[o].c(),Y(s[o],1),s[o].m(e,null))}for(W(),o=c.length;o<s.length;o+=1)l(o);X()}},i(t){if(!o){Y(r,t);for(let t=0;t<c.length;t+=1)Y(s[t]);o=!0}},o(t){Z(r,t),s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)Z(s[t]);o=!1},d(t){r&&r.d(t),t&&w(n),t&&w(e),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(s,t)}}}function Et(t,n,e){let o;l(t,vt,(t=>e(2,o=t)));let{item:i=null}=n,{withoutStyles:r=!1}=n;!function(t,n){T().$$.context.set(t,n)}(lt,vt);let{$$slots:c={},$$scope:s}=n;return t.$set=t=>{"item"in t&&e(0,i=t.item),"withoutStyles"in t&&e(1,r=t.withoutStyles),"$$scope"in t&&e(4,s=t.$$scope)},[i,r,o,(t="")=>`position-${t}${r?"":` default-position-style-${t}`}`,s,c]}t.default=class extends st{constructor(t){super(),ct(this,t,Et,Nt,s,{item:0,withoutStyles:1})}},t.getNotificationsContext=ut,Object.defineProperty(t,"__esModule",{value:!0})}));
